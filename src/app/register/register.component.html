<div class="container-fluid">
  <h1 class="header">Join
    <div class="home">
    </div>
  </h1>
  <hr>
  <mat-vertical-stepper class="offset-md-2 col-md-8 col-12" linear #stepper>
    <form [formGroup]="registerForm" (ngSubmit)="register();">
      <mat-step [stepControl]="username">

        <ng-template matStepLabel>Username</ng-template>
        <mat-form-field>
          <mat-label>
            Username
          </mat-label>
          <input matInput type="text" formControlName="username">

          <mat-error>
            Invalid username
          </mat-error>
          <mat-error *ngIf="submit">
            Username already taken
          </mat-error>
          <mat-hint>
            English letters and numbers only and 5 to 30 characters long
          </mat-hint>
        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperNext>Next</button>
        </div>
        <hr>
      </mat-step>
      <mat-step [stepControl]="email">

        <ng-template matStepLabel>Email address</ng-template>
        <mat-form-field>

          <mat-label>
            Email
          </mat-label>
          <input matInput type="email" formControlName="email">

          <mat-error>
            Invalid email
          </mat-error>
          <mat-error *ngIf="submit">
            Email already exists
          </mat-error>

        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>
          <button mat-raised-button type="button" matStepperNext>Next</button>
          <hr>
        </div>
      </mat-step>

      <mat-step [stepControl]="password">

        <ng-template matStepLabel>Password</ng-template>
        <mat-form-field>
          <mat-label>
            Password
          </mat-label>
          <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">

          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>

          <mat-error>
            Password must be from 8 to 14 characters long and contain
            at least one uppercase,lowercase letter and one number
          </mat-error>

        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>
          <button mat-raised-button type="button" matStepperNext>Next</button>
          <hr>
        </div>
      </mat-step>

      <mat-step [stepControl]="firstname">

        <ng-template matStepLabel>First name</ng-template>

        <mat-form-field>
          <mat-label>First name</mat-label>
          <input matInput type="text" formControlName="firstname">

          <mat-error>
            English letters only
          </mat-error>
        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>
          <button mat-raised-button type="button" matStepperNext>Next</button>
          <hr>
        </div>
      </mat-step>

      <mat-step [stepControl]="lastname">

        <ng-template matStepLabel>Last name</ng-template>

        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input matInput type="text" formControlName="lastname">

          <mat-error>
            English letters only
          </mat-error>
        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>
          <button mat-raised-button type="button" matStepperNext>Next</button>
          <hr>
        </div>
      </mat-step>

      <mat-step [stepControl]="dob">

        <ng-template matStepLabel>Birth Date</ng-template>

        <mat-form-field>
          <mat-label>Birthday</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dob" [min]="minDate" [max]="maxDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>

          <mat-error>
            Required
          </mat-error>
        </mat-form-field>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>
          <button mat-raised-button type="button" matStepperNext>Next</button>
          <hr>
        </div>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Complete</ng-template>
        <p>You are now ready</p>
        <div>
          <button mat-raised-button type="button" matStepperPrevious>Back</button>

          <form [formGroup]="registerForm" (ngSubmit)="register();" class="d-inline">
            <button mat-raised-button color="primary" type="submit" [disabled]="!registerForm.valid">
              Submit
            </button>
          </form>

          <button mat-raised-button (click)="stepper.reset()">Reset</button>
          <hr>
        </div>
      </mat-step>
    </form>
  </mat-vertical-stepper>
</div>


